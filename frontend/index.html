<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>TranscribeAlpha</title>
    <style>
        body { font-family: Arial, sans-serif; }
        label { display:block; margin-top:8px; }
    </style>
</head>
<body>
<h1>Gemini Legal Transcript Generator</h1>
<form id="uploadForm">
    <label>Case Name:<input type="text" name="case_name"></label>
    <label>Case Number:<input type="text" name="case_number"></label>
    <label>Firm or Organization Name:<input type="text" name="firm_name"></label>
    <label>Date:<input type="date" name="input_date"></label>
    <label>Time:<input type="time" name="input_time"></label>
    <label>Location:<input type="text" name="location"></label>
    <label>Speaker Names (comma-separated, leave blank for auto-detection):<br>
    <small style="color: #666;">Example: John Smith, Jane Doe, Dr. Williams</small><br>
    <input type="text" name="speaker_names" placeholder="Speaker 1, Speaker 2, etc."></label>
    <label><input type="checkbox" name="include_timestamps"> Include Timestamps</label>
    <label>Audio/Video File:<input type="file" name="file" required></label>
    <button type="submit">Generate Transcript</button>
</form>
<a id="download" style="display:none">Download DOCX</a>
<pre id="transcript"></pre>
<script>
const form = document.getElementById('uploadForm');
form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const data = new FormData(form);
    const resp = await fetch('/api/transcribe', { method:'POST', body:data });
    if (!resp.ok) { alert('Error generating transcript'); return; }
    const result = await resp.json();
    document.getElementById('transcript').textContent = result.transcript;
    const link = document.getElementById('download');
    link.href = 'data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64,' + result.docx_base64;
    link.download = 'transcript.docx';
    link.style.display = 'block';
    link.textContent = 'Download Transcript';
});
</script>
</body>
</html>
